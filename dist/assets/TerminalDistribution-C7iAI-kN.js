import{r as c,C as h,j as x}from"./index-ihEVNZHy.js";function C({prices:r}){const l=c.useRef(null),t=c.useRef(null),e=c.useMemo(()=>p(r,30),[r]);return c.useEffect(()=>{var a;const i=(a=l.current)==null?void 0:a.getContext("2d");if(!i)return;t.current&&(t.current.destroy(),t.current=null);const u={responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{x:{ticks:{color:"rgba(255,255,255,0.6)"},grid:{color:"rgba(255,255,255,0.08)"}},y:{beginAtZero:!0,ticks:{color:"rgba(255,255,255,0.6)"},grid:{color:"rgba(255,255,255,0.08)"}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(17,17,17,0.95)",titleColor:"#fff",bodyColor:"#e5e7eb",borderColor:"rgba(255,255,255,0.12)",borderWidth:1,callbacks:{title:n=>{var b;return((b=n[0])==null?void 0:b.label)||""},label:n=>` Count: ${n.parsed.y}`}}}},o=new h(i,{type:"bar",data:{labels:e.labels,datasets:[{label:"Histogram",data:e.counts,backgroundColor:"rgba(255,255,255,0.25)",borderColor:"rgba(255,255,255,0.4)",borderWidth:1,barPercentage:1,categoryPercentage:1}]},options:u});return t.current=o,()=>{o.destroy(),t.current=null}},[e]),x.jsx("canvas",{ref:l,className:"w-full h-full"})}function p(r,l=30){const t=(Array.isArray(r)?r:[]).filter(s=>typeof s=="number"&&Number.isFinite(s));if(!t.length)return{labels:[],counts:[]};const e=Math.min(...t),u=Math.max(...t)-e||1,o=Math.max(5,Math.min(100,l)),a=u/o,n=new Array(o).fill(0);for(const s of t){const f=Math.min(o-1,Math.max(0,Math.floor((s-e)/a)));n[f]++}return{labels:Array.from({length:o},(s,f)=>{const m=e+f*a,g=m+a;return`${d(m)} â€“ ${d(g)}`}),counts:n}}function d(r){return Number(r).toFixed(2)}export{C as default};
